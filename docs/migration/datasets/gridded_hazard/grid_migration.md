# Objective

##  Data process

 - used `ths_build_grid build` command against S3 source `s3://ths-dataset-prod/NZSHM22_AGG/`
 - split into 6 jobs (+ two backfill jobs for 1st failed job)
 - eventually ran on `c6a.2xlarge` instance 9/10 Feb
 - in `toshi_hazard_store/query/datasets.py` module, all lru_cache sizes are set to 1. Otherwise, memory will exceed available resource. 
 - run each job with just 2 workers, again, to limit max memory demand.

e.g a backfill job on EC2 instance `i-0c9ce6f9f0c3fa637` 

### 1. Edit the config file for the required grids....
```
nano toshi_hazard_store/resources/gridded_hazard/config/config-final-fill.toml
```

### 2. Run the job
```
export THS_DATASET_AGGR_URI="s3://ths-dataset-prod/NZSHM22_AGG/"
poetry run ths_build_grid build toshi_hazard_store/resources/gridded_hazard/config/config-final-fill-2.toml ./WORKDIR/GRIDDED_RAW -w 1 > WORKDIR/gridded-final-fill-2.log 2>&1 &
tail -f WORKDIR/gridded-final-fill-2.log
```

## Comparing new grids with older 

We had a concern that new grids could be impacted by slightly different aggregate hazard , as a different THP than was used for 
the DynamoDB THS AggregateHazard table. To address this, we did the following:

 - adjust the poe trimming ceiling in module `gridded_poe.py` 
   `HAZARD_CURVE_MAX_POE = 0.6318  # 0.632` 
 - compute the new grid dataset from parquest aggregate hazard (as above)
 - defragment the dateset using `ths_ds_defrag` script, using suitable partitioning.
 - measure and record any differences of grid values for post analysis using the `ths_grid_sanity diff` command, which in turn uses `toshi_hazard_store.model.gridded.grid_analysis` module. The limits used for this were RTOL=1e-5, , ATOL=1e-6.
   Note that the values being compared here are acceleration in G, so the hazard impact from these differences will be negligible.
   The output of this stage is the file `grid_analysis-2026-02-11.json` (TODO: move this to somewhere useful)
 - convert the json to a jsonl file for simple ingestion with pandas. This is included in `ths_grid_sanity report` commmand.
   See analysis below ...

### Statistics for grid entries 

For the complete `NZ_0_1_NB_1_1, NSHM_v1.0.4` grid dataset (except 10 missing values 150, 0.95, SA(10.0)

In the following tables, l_value = DyanamoDB, and r_value = Parquet. 

### All grid entries having a relative difference > 0.1%

57 of 3741 grid locations qualify...

```
>>> df[abs(df.error/df.l_value) > 0.001]
      region_grid_id hazard_model_id   agg      imt  vs30    poe    location_code     error   l_value   r_value
1024   NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   225  0.020  -35.400~173.500 -0.002473  0.989226  0.991699
4985   NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   225  0.020  -35.700~173.700 -0.001796  0.991550  0.993345
11332  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)  1500  0.020  -43.700~169.400  0.001357  0.806704  0.805347
13288  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)   350  0.020  -43.500~170.000  0.007112  3.189571  3.182458
13289  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)   350  0.025  -43.500~170.000  0.004529  2.899751  2.895223
13292  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)   375  0.020  -43.500~170.000  0.014931  3.005531  2.990600
13294  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)   400  0.020  -43.500~170.000  0.005178  2.821012  2.815834
13296  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)   600  0.020  -43.500~170.000  0.006409  1.914070  1.907662
13297  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)   600  0.025  -43.500~170.000  0.007259  1.746129  1.738870
13312  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)  1500  0.100  -43.400~170.100  0.000429  0.415499  0.415070
19173  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   225  0.020  -35.200~173.500 -0.003614  0.988142  0.991756
21015  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(3.0)   750  0.050  -34.600~173.000  0.000025  0.020370  0.020345
21021  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(4.0)   150  0.050  -35.000~173.000  0.000110  0.065550  0.065440
21022  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(4.0)   150  0.050  -34.900~173.000  0.000094  0.065255  0.065160
21023  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(4.0)   150  0.050  -34.800~173.000  0.000068  0.064696  0.064629
21026  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(4.0)   150  0.050  -35.300~173.100  0.000208  0.066920  0.066713
21029  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(4.0)   150  0.050  -35.200~173.100  0.000334  0.067137  0.066803
21034  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.80  SA(1.0)   175  0.390  -35.200~173.100  0.000218  0.081795  0.081577
21035  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.80  SA(1.0)   175  0.400  -35.200~173.100  0.000230  0.079710  0.079480
21038  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(4.0)   150  0.050  -35.100~173.100  0.000099  0.066824  0.066725
21042  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.80  SA(6.0)  1500  0.025  -35.100~173.100  0.000008  0.005869  0.005861
21043  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(4.0)   150  0.050  -35.000~173.100  0.000085  0.066603  0.066518
21044  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(4.0)   150  0.050  -34.900~173.100  0.000072  0.066172  0.066100
21049  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(4.0)   150  0.050  -35.200~173.200  0.000349  0.068213  0.067864
21052  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.80  SA(1.0)   175  0.390  -35.200~173.200  0.000266  0.083510  0.083244
21053  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.80  SA(1.0)   175  0.400  -35.200~173.200  0.000296  0.081397  0.081101
21054  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(4.0)   150  0.050  -35.100~173.200  0.000104  0.067818  0.067715
21058  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(4.0)   150  0.050  -35.000~173.200  0.000089  0.067456  0.067367
21059  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.80  SA(6.0)  1500  0.020  -35.000~173.200  0.000011  0.006853  0.006842
21060  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.80  SA(6.0)  1500  0.025  -35.000~173.200  0.000017  0.005922  0.005905
21061  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(4.0)   150  0.050  -34.900~173.200  0.000076  0.066935  0.066858
21062  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(4.0)   150  0.050  -34.800~173.200  0.000067  0.066207  0.066140
21064  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(4.0)   150  0.050  -35.000~173.300  0.000092  0.068071  0.067979
21068  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(4.0)   150  0.050  -34.900~173.300  0.000083  0.067455  0.067371
21071  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(4.0)   150  0.050  -34.800~173.300  0.000074  0.066605  0.066531
21072  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(4.0)   150  0.050  -34.900~173.400  0.000091  0.067782  0.067691
21948  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   225  0.020  -35.300~173.800 -0.001541  0.991274  0.992815
22389  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   225  0.020  -35.400~173.700  0.001202  0.995183  0.993981
22663  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.80  SA(1.0)   175  0.220  -34.500~172.900  0.000168  0.120455  0.120287
23429  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.05  SA(4.0)   175  0.860  -36.400~174.400 -0.000001  0.000784  0.000785
24127  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(4.0)   250  0.050  -34.700~172.800  0.000039  0.037450  0.037410
24137  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   200  0.020  -35.400~173.400 -0.001055  1.037912  1.038967
24166  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   200  0.020  -35.900~173.700  0.001758  1.040460  1.038702
24167  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   200  0.020  -35.800~173.700 -0.001241  1.038548  1.039789
24171  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   225  0.020  -35.600~173.700 -0.003315  0.990728  0.994043
24176  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   200  0.020  -35.900~173.900  0.002106  1.046439  1.044333
24181  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   200  0.020  -35.900~174.000  0.002225  1.048344  1.046119
24856  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   275  0.100  -43.100~170.900  0.004428  2.849025  2.844597
24859  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95      PGA   750  0.025  -43.100~170.900  0.008611  2.390587  2.381975
25253  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.90  SA(2.0)   275  0.020  -43.300~170.500  0.005482  2.588489  2.583007
25351  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)  1500  0.050  -43.600~169.800  0.003542  0.694517  0.690975
25914  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(3.0)   750  0.050  -34.700~172.900  0.000028  0.020359  0.020331
25935  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.3)   375  0.025  -43.100~170.600  0.010667  4.565024  4.554358
26503  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(3.0)   750  0.050  -34.600~172.700  0.000024  0.019434  0.019409
26510  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(3.0)   750  0.050  -34.500~172.800  0.000026  0.019615  0.019589
26514  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(3.0)   750  0.050  -34.400~172.900  0.000021  0.019497  0.019476
26584  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95      PGA  1500  0.050  -43.400~170.600  0.000923  0.898078  0.897155
>>>
```

```
>>> df[abs(df.error/df.l_value) > 0.001]['agg'].unique()
array([0.95, 0.8 , 0.05, 0.9 ])
```
```
>>> df[abs(df.error/df.l_value) > 0.001]['poe'].unique()
array([0.02 , 0.025, 0.1  , 0.05 , 0.39 , 0.4  , 0.22 , 0.86 ])
```
```
>>> df[abs(df.error/df.l_value) > 0.001]['imt'].unique()
array(['SA(0.4)', 'SA(2.0)', 'SA(3.0)', 'SA(4.0)', 'SA(1.0)', 'SA(6.0)',
       'PGA', 'SA(0.3)'], dtype=object)
```

```
>>> df[abs(df.error/df.l_value) > 0.001]['vs30'].unique()
array([ 225, 1500,  350,  375,  400,  600,  750,  150,  175,  250,  200,
        275])
```

```
>>> df[abs(df.error/df.l_value) > 0.001]['location_code'].unique()
array(['-35.400~173.500', '-35.700~173.700', '-43.700~169.400',
       '-43.500~170.000', '-43.400~170.100', '-35.200~173.500',
       '-34.600~173.000', '-35.000~173.000', '-34.900~173.000',
       '-34.800~173.000', '-35.300~173.100', '-35.200~173.100',
       '-35.100~173.100', '-35.000~173.100', '-34.900~173.100',
       '-35.200~173.200', '-35.100~173.200', '-35.000~173.200',
       '-34.900~173.200', '-34.800~173.200', '-35.000~173.300',
       '-34.900~173.300', '-34.800~173.300', '-34.900~173.400',
       '-35.300~173.800', '-35.400~173.700', '-34.500~172.900',
       '-36.400~174.400', '-34.700~172.800', '-35.400~173.400',
       '-35.900~173.700', '-35.800~173.700', '-35.600~173.700',
       '-35.900~173.900', '-35.900~174.000', '-43.100~170.900',
       '-43.300~170.500', '-43.600~169.800', '-34.700~172.900',
       '-43.100~170.600', '-34.600~172.700', '-34.500~172.800',
       '-34.400~172.900', '-43.400~170.600'], dtype=object)
>>>
```

### All grid entries having an absolute difference > 0.001G

51 of 3741 grid locations qualify...

```
>>> df[abs(df.error) > 0.001]
      region_grid_id hazard_model_id   agg      imt  vs30    poe    location_code     error   l_value   r_value
1024   NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   225  0.020  -35.400~173.500 -0.002473  0.989226  0.991699
3672   NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(3.0)   225  0.020  -45.000~167.100  0.001771  2.999366  2.997595
4985   NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   225  0.020  -35.700~173.700 -0.001796  0.991550  0.993345
5998   NZ_0_1_NB_1_1     NSHM_v1.0.4  0.90  SA(2.0)   175  0.020  -45.100~167.100  0.001368  3.580516  3.579148
8105   NZ_0_1_NB_1_1     NSHM_v1.0.4  0.90  SA(0.2)  1500  0.025  -45.300~166.700  0.001257  6.877800  6.876543
11324  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.90  SA(0.4)   400  0.020  -43.700~169.400  0.001079  4.816142  4.815063
11332  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)  1500  0.020  -43.700~169.400  0.001357  0.806704  0.805347
13278  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)   150  0.025  -43.500~170.000  0.003234  6.257820  6.254586
13280  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(1.5)   200  0.020  -43.500~170.000 -0.001191  5.202513  5.203703
13283  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   250  0.020  -43.500~170.000  0.004534  6.007779  6.003245
13284  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   250  0.025  -43.500~170.000  0.002730  5.571642  5.568911
13288  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)   350  0.020  -43.500~170.000  0.007112  3.189571  3.182458
13289  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)   350  0.025  -43.500~170.000  0.004529  2.899751  2.895223
13290  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   375  0.020  -43.500~170.000  0.005948  7.193311  7.187363
13291  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   375  0.025  -43.500~170.000  0.005197  6.637773  6.632576
13292  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)   375  0.020  -43.500~170.000  0.014931  3.005531  2.990600
13294  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)   400  0.020  -43.500~170.000  0.005178  2.821012  2.815834
13296  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)   600  0.020  -43.500~170.000  0.006409  1.914070  1.907662
13297  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)   600  0.025  -43.500~170.000  0.007259  1.746129  1.738870
13298  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(1.5)   750  0.020  -43.500~170.000  0.001467  1.964125  1.962658
13303  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.5)   200  0.050  -43.400~170.100  0.001802  3.748739  3.746938
16747  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.90  SA(0.3)   500  0.020  -43.300~170.600  0.003198  5.280899  5.277701
16748  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.90  SA(0.3)   500  0.025  -43.300~170.600  0.003821  4.883656  4.879835
19173  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   225  0.020  -35.200~173.500 -0.003614  0.988142  0.991756
21743  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.90  SA(1.5)   300  0.020  -43.400~170.000  0.001277  2.527806  2.526528
21948  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   225  0.020  -35.300~173.800 -0.001541  0.991274  0.992815
22389  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   225  0.020  -35.400~173.700  0.001202  0.995183  0.993981
22548  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.5)   175  0.050  -43.400~170.200  0.002973  3.464716  3.461744
22549  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.5)   200  0.025  -43.400~170.200  0.001511  4.846679  4.845168
23188  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)   250  0.025  -43.500~169.900  0.001310  3.502794  3.501484
24137  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   200  0.020  -35.400~173.400 -0.001055  1.037912  1.038967
24166  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   200  0.020  -35.900~173.700  0.001758  1.040460  1.038702
24167  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   200  0.020  -35.800~173.700 -0.001241  1.038548  1.039789
24171  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   225  0.020  -35.600~173.700 -0.003315  0.990728  0.994043
24176  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   200  0.020  -35.900~173.900  0.002106  1.046439  1.044333
24181  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   200  0.020  -35.900~174.000  0.002225  1.048344  1.046119
24502  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)  1500  0.020  -42.900~171.100 -0.001063  3.571516  3.572578
24564  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.90  SA(0.4)   500  0.025  -43.400~170.500  0.001043  3.971479  3.970436
24853  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.1)   400  0.025  -43.300~170.900  0.001097  2.680111  2.679014
24856  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   275  0.100  -43.100~170.900  0.004428  2.849025  2.844597
24859  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95      PGA   750  0.025  -43.100~170.900  0.008611  2.390587  2.381975
25197  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   350  0.020  -42.600~171.800  0.002382  6.239431  6.237049
25253  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.90  SA(2.0)   275  0.020  -43.300~170.500  0.005482  2.588489  2.583007
25351  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(2.0)  1500  0.050  -43.600~169.800  0.003542  0.694517  0.690975
25934  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.3)   375  0.020  -43.100~170.600  0.002369  4.906932  4.904563
25935  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.3)   375  0.025  -43.100~170.600  0.010667  4.565024  4.554358
26137  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.90  SA(0.5)   900  0.025  -43.200~170.600  0.001253  3.362631  3.361378
26292  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   450  0.020  -43.100~171.100  0.001389  4.778796  4.777407
26293  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.4)   450  0.025  -43.100~171.100  0.002722  4.412592  4.409870
26432  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.2)   600  0.050  -42.800~171.200  0.001098  3.784389  3.783292
26539  NZ_0_1_NB_1_1     NSHM_v1.0.4  0.95  SA(0.1)   900  0.020  -40.700~176.400 -0.001037  9.052197  9.053234
```

### Unique agg with > 0.001G difference
```
>>> df[abs(df.error) > 0.001]['agg'].unique()
array([0.95, 0.9 ])
```

### Unique poe with > 0.001G difference
```
>>> df[abs(df.error) > 0.001]['poe'].unique()
array([0.02 , 0.025, 0.05 , 0.1  ])
```

### Unique imt with > 0.001G difference
```
>>> df[abs(df.error) > 0.001]['imt'].unique()
array(['SA(0.4)', 'SA(3.0)', 'SA(2.0)', 'SA(0.2)', 'SA(1.5)', 'SA(0.5)',
       'SA(0.3)', 'SA(0.1)', 'PGA'], dtype=object)
```

### Unique vs30 with > 0.001G difference
```
>>> df[abs(df.error) > 0.001]['vs30'].unique()
array([ 225,  175, 1500,  400,  150,  200,  250,  350,  375,  600,  750,
        500,  300,  275,  900,  450])
```

### Unique location with > 0.001G difference
```
>>> df[abs(df.error) > 0.001]['location_code'].unique()
array(['-35.400~173.500', '-45.000~167.100', '-35.700~173.700',
       '-45.100~167.100', '-45.300~166.700', '-43.700~169.400',
       '-43.500~170.000', '-43.400~170.100', '-43.300~170.600',
       '-35.200~173.500', '-43.400~170.000', '-35.300~173.800',
       '-35.400~173.700', '-43.400~170.200', '-43.500~169.900',
       '-35.400~173.400', '-35.900~173.700', '-35.800~173.700',
       '-35.600~173.700', '-35.900~173.900', '-35.900~174.000',
       '-42.900~171.100', '-43.400~170.500', '-43.300~170.900',
       '-43.100~170.900', '-42.600~171.800', '-43.300~170.500',
       '-43.600~169.800', '-43.100~170.600', '-43.200~170.600',
       '-43.100~171.100', '-42.800~171.200', '-40.700~176.400'],
      dtype=object)
```


